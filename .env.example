# ==========================================
# Experts Panel - Environment Configuration
# ==========================================
# Copy this file to .env and fill in your values
# NEVER commit .env file to version control!

# ======================
# REQUIRED VARIABLES
# ======================

# OpenAI API Configuration
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7

# Database Configuration
# SQLite database path (relative to project root)
DATABASE_URL=sqlite:///data/experts.db
# For async SQLAlchemy
DATABASE_URL_ASYNC=sqlite+aiosqlite:///data/experts.db

# ======================
# TELEGRAM API CONFIGURATION
# ======================

# Telegram API Credentials
# Get from: https://my.telegram.org (API Development Tools)
TELEGRAM_API_ID=12345678
TELEGRAM_API_HASH=your-telegram-api-hash-here
TELEGRAM_PHONE=+1234567890

# Channel to sync
TELEGRAM_CHANNEL=nobilix

# Sync Configuration
# Number of recent posts to check for new comments on each sync
# Covers ~30 days of posts (catches delayed comments on older posts)
SYNC_DEPTH=10

# Session file name (without .session extension)
TELEGRAM_SESSION_NAME=telegram_fetcher

# ======================
# SERVER CONFIGURATION
# ======================

# Backend API Server
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000
BACKEND_RELOAD=true
BACKEND_DEBUG=true

# Frontend Development Server
FRONTEND_HOST=localhost
FRONTEND_PORT=3000

# ======================
# SECURITY & CORS
# ======================

# CORS Configuration
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=*

# Secret key for sessions/security (generate with: openssl rand -hex 32)
SECRET_KEY=your-secret-key-here-change-in-production

# ======================
# PIPELINE CONFIGURATION
# ======================

# Map-Resolve-Reduce Pipeline Settings
MAP_CHUNK_SIZE=30
RESOLVE_MAX_DEPTH=2
PIPELINE_TIMEOUT_SECONDS=180

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/app.log

# ======================
# OPTIONAL VARIABLES
# ======================

# Rate Limiting
RATE_LIMIT_ENABLED=false
RATE_LIMIT_PER_MINUTE=60

# Cache Configuration (optional Redis)
CACHE_ENABLED=false
REDIS_URL=redis://localhost:6379/0

# Monitoring (optional)
SENTRY_DSN=
PROMETHEUS_ENABLED=false

# ======================
# ENVIRONMENT MODES
# ======================

# Environment: development, staging, production
ENVIRONMENT=development

# Feature Flags
ENABLE_SSE=true
ENABLE_IMPORT_API=true
ENABLE_COMMENT_COLLECTION=true

# ======================
# NOTES
# ======================
# 1. OpenAI API key is required for the system to function
# 2. Database will be created automatically on first run
# 3. In production, set BACKEND_DEBUG=false and BACKEND_RELOAD=false
# 4. Generate a strong SECRET_KEY for production deployments
# 5. Update CORS_ORIGINS for your production domain
# –ü–ª–∞–Ω: –§–∏—á–∞ "use_recent_only" - –§–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–µ (3 –º–µ—Å—è—Ü–∞)

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2026-02-03  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏—á–∏

–î–æ–±–∞–≤–∏—Ç—å –≤ UI –≥–∞–ª–æ—á–∫—É "–¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –º–µ—Å—è—Ü–∞" (use_recent_only), –∫–æ—Ç–æ—Ä–∞—è –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –ø–æ–∏—Å–∫ –ø–æ—Å—Ç–æ–≤ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–µ—Ä–∏–æ–¥–æ–º –≤ 3 –º–µ—Å—è—Ü–∞.

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ:
- **OFF (default):** –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î (–¥–ª—è –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏, –∏—Å—Ç–æ—Ä–∏–∏, –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)
- **ON:** –¢–æ–ª—å–∫–æ –ø–æ—Å—Ç—ã –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –º–µ—Å—è—Ü–∞ (–¥–ª—è —Å–≤–µ–∂–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π, –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π)

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã:
1. **–°–≤—è–∑–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã (Resolve):** –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω —Ñ–∏–ª—å—Ç—Ä, —Å–≤—è–∑–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã —Å—Ç–∞—Ä—à–µ 3 –º–µ—Å—è—Ü–µ–≤ –ù–ï –ø–æ–¥—Ç—è–≥–∏–≤–∞—é—Ç—Å—è (–¥–∞–∂–µ –µ—Å–ª–∏ –∞–≤—Ç–æ—Ä —Å—Å—ã–ª–∞–ª—Å—è –Ω–∞ –Ω–∏—Ö)
2. **–°—Å—ã–ª–∫–∏ [post:ID] –≤ –æ—Ç–≤–µ—Ç–µ:** LLM –Ω–µ –±—É–¥–µ—Ç —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ —Å—Ç–∞—Ä—ã–µ –ø–æ—Å—Ç—ã, —Ç.–∫. –æ–Ω–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
3. **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:** –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ –ø–æ—Å—Ç–∞–º, –ø—Ä–æ—à–µ–¥—à–∏–º —Ñ–∏–ª—å—Ç—Ä (—Ç.–µ. —Å–≤–µ–∂–∏–º)

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ use_recent_only=true:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  QueryRequest   ‚îÇ ‚Üê use_recent_only: true
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  MapService     ‚îÇ ‚Üê –ó–∞–≥—Ä—É–∂–∞–µ—Ç –ø–æ—Å—Ç—ã —ç–∫—Å–ø–µ—Ä—Ç–∞ 
‚îÇ  (—Ñ–∏–ª—å—Ç—Ä –¥–∞—Ç–∞)  ‚îÇ   WHERE created_at > date('now', '-3 months')
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ SimpleResolve   ‚îÇ ‚Üê –°–≤—è–∑–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç–∏ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø–æ –¥–∞—Ç–µ
‚îÇ (—Ñ–∏–ª—å—Ç—Ä –¥–∞—Ç–∞)   ‚îÇ   (—Å—Ç–∞—Ä—ã–µ —Å–≤—è–∑–∏ –Ω–µ –ø–æ–¥—Ç—è–≥–∏–≤–∞—é—Ç—Å—è)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ CommentGroupMap ‚îÇ ‚Üê –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¢–û–õ–¨–ö–û –∫ —Å–≤–µ–∂–∏–º –ø–æ—Å—Ç–∞–º
‚îÇ (—Ñ–∏–ª—å—Ç—Ä –¥–∞—Ç–∞)   ‚îÇ   (—Å—Ç–∞—Ä—ã–µ –ø–æ—Å—Ç—ã —É–∂–µ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω—ã)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üîç SQL-–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (–ø–µ—Ä–µ–¥/–ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ –ø–æ –¥–∞—Ç–∞–º:
```sql
-- –°–∫–æ–ª—å–∫–æ –ø–æ—Å—Ç–æ–≤ –ø–æ–ø–∞–¥–µ—Ç –ø–æ–¥ —Ñ–∏–ª—å—Ç—Ä 3 –º–µ—Å—è—Ü–∞
SELECT 
    CASE 
        WHEN created_at >= date('now', '-3 months') THEN '–°–≤–µ–∂–∏–µ (3 –º–µ—Å)'
        ELSE '–°—Ç–∞—Ä—ã–µ'
    END as category,
    COUNT(*) as count,
    ROUND(100.0 * COUNT(*) / SUM(COUNT(*)) OVER (), 1) as percent
FROM posts
GROUP BY category;
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —ç–∫—Å–ø–µ—Ä—Ç–∞:
```sql
-- –ü–æ—Å—Ç—ã akimov –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –º–µ—Å—è—Ü–∞
SELECT COUNT(*) 
FROM posts 
WHERE expert_id = 'akimov' 
  AND created_at >= date('now', '-3 months');
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Ç–æ–∂–µ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è (–∫–æ—Å–≤–µ–Ω–Ω–æ):
```sql
-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Å–≤–µ–∂–∏–º –ø–æ—Å—Ç–∞–º vs –∫–æ –≤—Å–µ–º
SELECT 
    CASE 
        WHEN p.created_at >= date('now', '-3 months') THEN '–ö —Å–≤–µ–∂–∏–º –ø–æ—Å—Ç–∞–º'
        ELSE '–ö —Å—Ç–∞—Ä—ã–º –ø–æ—Å—Ç–∞–º'
    END as category,
    COUNT(*) as comments_count
FROM comments c
JOIN posts p ON c.post_id = p.post_id
GROUP BY category;
```

---

## üìù –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è

### Backend

#### 0. –û–±—â–∏–π –ø—Ä–∏–Ω—Ü–∏–ø –∏–∑–º–µ–Ω–µ–Ω–∏–π
–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –ø–æ–ª—É—á–∞—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `use_recent_only: bool = False` –≤ —Å–≤–æ–µ–º –º–µ—Ç–æ–¥–µ `process()`:
```python
async def process(
    self,
    ...
    use_recent_only: bool = False,  # ‚Üê –¥–æ–±–∞–≤–∏—Ç—å —ç—Ç–æ
):
```

#### 1. `backend/src/api/models.py`
**–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–ª–∞—Å—Å `QueryRequest`:**
```python
use_recent_only: Optional[bool] = Field(
    default=False,
    description="Use only recent data (last 3 months) for fresh news and current models. "
                "When false, uses all available data for comprehensive answers including "
                "methodology and historical context."
)
```

---

#### 2. `backend/src/services/map_service.py`
**–ò–∑–º–µ–Ω–∏—Ç—å –º–µ—Ç–æ–¥ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ—Å—Ç–æ–≤** (–Ω–∞–π—Ç–∏ –≥–¥–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è `db.query(Post))`):

```python
# –¢–µ–∫—É—â–∏–π –∫–æ–¥ (–ø—Ä–∏–º–µ—Ä–Ω–æ):
posts = db.query(Post).filter(Post.expert_id == expert_id).all()

# –ù–æ–≤—ã–π –∫–æ–¥:
query = db.query(Post).filter(Post.expert_id == expert_id)
if use_recent_only:
    from datetime import datetime, timedelta
    cutoff_date = datetime.now() - timedelta(days=90)
    query = query.filter(Post.created_at >= cutoff_date)
posts = query.all()
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** `use_recent_only` –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ `process()` –º–µ—Ç–æ–¥.

---

#### 3. `backend/src/services/simple_resolve_service.py`
**–ò–∑–º–µ–Ω–∏—Ç—å –º–µ—Ç–æ–¥—ã `_fetch_posts_by_telegram_ids` –∏ `_get_linked_posts`:**

```python
def _fetch_posts_by_telegram_ids(
    self,
    db: Session,
    telegram_message_ids: List[int],
    expert_id: str,
    use_recent_only: bool = False  # <-- –¥–æ–±–∞–≤–∏—Ç—å
) -> Dict[int, Post]:
    ...
    query = db.query(Post).filter(
        Post.telegram_message_id.in_(telegram_message_ids),
        Post.expert_id == expert_id
    )
    if use_recent_only:
        from datetime import datetime, timedelta
        cutoff_date = datetime.now() - timedelta(days=90)
        query = query.filter(Post.created_at >= cutoff_date)
    posts = query.all()
    ...
```

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è `_get_linked_posts` - –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä –¥–∞—Ç—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤.

---

#### 4. `backend/src/services/comment_group_map_service.py`
**–ò–∑–º–µ–Ω–∏—Ç—å –º–µ—Ç–æ–¥—ã –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ—Å—Ç–æ–≤ –¥–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤** (—Å—Ç—Ä–æ–∫–∏ ~106 –∏ ~174):

```python
# –ù–∞–π—Ç–∏ query(Post) –∏ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä –¥–∞—Ç—ã
query = db.query(Post).filter(Post.expert_id == expert_id, ...)
if use_recent_only:
    cutoff_date = datetime.now() - timedelta(days=90)
    query = query.filter(Post.created_at >= cutoff_date)
```

---

#### 5. `backend/src/api/simplified_query_endpoint.py`
**–ü–µ—Ä–µ–¥–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `use_recent_only` —á–µ—Ä–µ–∑ –≤–µ—Å—å pipeline:**

–ò–∑–º–µ–Ω–∏—Ç—å —Å–∏–≥–Ω–∞—Ç—É—Ä—É `process_expert_pipeline()`:
```python
async def process_expert_pipeline(
    expert_id: str,
    request: QueryRequest,
    db: Session,
    progress_callback: Optional[Callable] = None
) -> ExpertResponse:
    # –ò–∑–≤–ª–µ—á—å –ø–∞—Ä–∞–º–µ—Ç—Ä –∏–∑ request
    use_recent_only = request.use_recent_only or False
    
    # –ü–µ—Ä–µ–¥–∞—Ç—å –≤ —Å–µ—Ä–≤–∏—Å—ã:
    # - map_service.process(..., use_recent_only=use_recent_only)
    # - resolve_service.process(..., use_recent_only=use_recent_only)
    # - comment_group_service.process(..., use_recent_only=use_recent_only)
```

**–í–∞–∂–Ω–æ:** –ü–∞—Ä–∞–º–µ—Ç—Ä –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ –≤—Å–µ –≤—ã–∑–æ–≤—ã –≤ pipeline.

---

### Frontend

#### 6. `frontend/src/types/api.ts`
**–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `QueryRequest`:**

```typescript
export interface QueryRequest {
  query: string;
  max_posts?: number;
  include_comments?: boolean;
  include_comment_groups?: boolean;
  stream_progress?: boolean;
  expert_filter?: string[];
  
  // –ù–û–í–û–ï –ü–û–õ–ï:
  use_recent_only?: boolean;  // ‚Üê –¥–æ–±–∞–≤–∏—Ç—å
}
```

---

#### 7. `frontend/src/components/QueryForm.tsx`
**–î–æ–±–∞–≤–∏—Ç—å —á–µ–∫–±–æ–∫—Å:**

```typescript
interface QueryFormProps {
  onSubmit: (query: string, options?: { use_recent_only?: boolean }) => void;
  disabled?: boolean;
  placeholder?: string;
  elapsedSeconds?: number;
  selectedExperts?: Set<string>;
}

// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å state:
const [useRecentOnly, setUseRecentOnly] = useState(false);

// –í handleSubmit –ø–µ—Ä–µ–¥–∞—Ç—å –æ–ø—Ü–∏—é:
onSubmit(trimmed, { use_recent_only: useRecentOnly });

// –í JSX –¥–æ–±–∞–≤–∏—Ç—å —á–µ–∫–±–æ–∫—Å:
<label className="recent-only-checkbox">
  <input
    type="checkbox"
    checked={useRecentOnly}
    onChange={(e) => setUseRecentOnly(e.target.checked)}
    disabled={disabled}
  />
  <span>üïí –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –º–µ—Å—è—Ü–∞</span>
  <small>–°–≤–µ–∂–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏</small>
</label>
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –°—Ç–∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π CSS —Ñ–∞–π–ª.

---

#### 8. `frontend/src/services/api.ts`
**–û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–æ–¥ `submitQuery` –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—è:**

```typescript
async submitQuery(
  request: QueryRequest,
  onProgress?: ProgressCallback
): Promise<QueryResponse> {
  const requestBody: QueryRequest = {
    ...request,
    stream_progress: request.stream_progress !== false
    // use_recent_only –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∏–∑ request
  };
  // ... rest of code
}
```

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü–µ—Ä–∏–æ–¥ "3 –º–µ—Å—è—Ü–∞":
```python
from datetime import datetime, timedelta
cutoff_date = datetime.now() - timedelta(days=90)
```

–ò–ª–∏ SQL:
```sql
WHERE created_at >= date('now', '-3 months')  -- SQLite
```

### –ì–¥–µ –∏–º–µ–Ω–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å:

| –≠—Ç–∞–ø | –î–µ–π—Å—Ç–≤–∏–µ |
|------|----------|
| **Map** | –§–∏–ª—å—Ç—Ä –ø–æ—Å—Ç–æ–≤ –ø—Ä–∏ –Ω–∞—á–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ |
| **Resolve** | –§–∏–ª—å—Ç—Ä —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤ (–Ω–µ –ø–æ–¥—Ç—è–≥–∏–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ —Å–≤—è–∑–∏) |
| **Comment Groups** | –ü–æ—Å—Ç—ã —É–∂–µ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω—ã, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ –æ—Å—Ç–∞–≤—à–∏–º—Å—è |

### –í–∞–∂–Ω–æ:
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è **–∫–æ—Å–≤–µ–Ω–Ω–æ** - —á–µ—Ä–µ–∑ —Ñ–∏–ª—å—Ç—Ä –ø–æ—Å—Ç–æ–≤
- –ù–µ –Ω—É–∂–Ω–æ –æ—Ç–¥–µ–ª—å–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å `comments.created_at`, —Ç–æ–ª—å–∫–æ `posts.created_at`
- –°–≤—è–∑–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã (links) —Ç–æ–∂–µ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è –Ω–∞ –¥–∞—Ç—É

### –°–µ—Ä–≤–∏—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –ù–ï –Ω—É–∂–¥–∞—é—Ç—Å—è –≤ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö:

| –°–µ—Ä–≤–∏—Å | –ü—Ä–∏—á–∏–Ω–∞ |
|--------|---------|
| **ReduceService** | –†–∞–±–æ—Ç–∞–µ—Ç —Å –ø–æ—Å—Ç–∞–º–∏, —É–∂–µ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –≤ Map/Resolve |
| **CommentSynthesisService** | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã CommentGroupMap (—É–∂–µ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω—ã) |
| **LanguageValidationService** | –¢–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞, –±–µ–∑ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î |
| **TranslationService** | –¢–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞, –±–µ–∑ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î |
| **FactValidator** | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Å—ã–ª–∫–∏ [post:ID] –≤ —É–∂–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –æ—Ç–≤–µ—Ç–µ. –ï—Å–ª–∏ –ø–æ—Å—Ç –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω, LLM –Ω–µ –¥–æ–ª–∂–µ–Ω –Ω–∞ –Ω–µ–≥–æ —Å—Å—ã–ª–∞—Ç—å—Å—è (–µ–≥–æ –Ω–µ—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ) |
| **MediumScoringService** | –ü–æ–ª—É—á–∞–µ—Ç –ø–æ—Å—Ç—ã –∏–∑ MapService (—É–∂–µ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω—ã) |

---

## üé® UI/UX –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –¢–µ–∫—Å—Ç —á–µ–∫–±–æ–∫—Å–∞:
- **–ó–∞–≥–æ–ª–æ–≤–æ–∫:** "üïí –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –º–µ—Å—è—Ü–∞"
- **–ü–æ–¥—Å–∫–∞–∑–∫–∞:** "–î–ª—è —Å–≤–µ–∂–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π. –í—ã–∫–ª—é—á–∏—Ç–µ –¥–ª—è –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ –∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞."

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ:
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: **OFF** (–≤—Å–µ –¥–∞–Ω–Ω—ã–µ)
- –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ localStorage (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å tooltip —Å –ø–æ—è—Å–Ω–µ–Ω–∏–µ–º

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- [ ] –ß–µ–∫–±–æ–∫—Å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ UI
- [ ] –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ API –∑–∞–ø—Ä–æ—Å–µ
- [ ] Backend –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ—Å—Ç—ã (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏)
- [ ] –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Å—Ç–∞—Ä—ã–º –ø–æ—Å—Ç–∞–º –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- [ ] –°–≤—è–∑–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã —Å—Ç–∞—Ä—à–µ 3 –º–µ—Å –Ω–µ –ø–æ–¥—Ç—è–≥–∏–≤–∞—é—Ç—Å—è
- [ ] –ü—Ä–∏ OFF –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
- [ ] –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–∞ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –≤—ã—à–µ (–º–µ–Ω—å—à–µ –¥–∞–Ω–Ω—ã—Ö)

---

## üìÅ –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–¥–ª—è —Å–ø—Ä–∞–≤–∫–∏)

- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: `backend/src/config.py`
- –ú–æ–¥–µ–ª–∏ –ë–î: `backend/src/models/post.py`, `backend/src/models/comment.py`
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API: –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏–∑ `models.py`

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-02-03  
**–ê–≤—Ç–æ—Ä:** Claude (–ø–æ –∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

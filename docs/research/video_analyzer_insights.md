# –≠–∫—Å—Ç—Ä–∞–∫—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –∏–∑ `kdoronin/video_analyzer`

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2026-02-23
**–¶–µ–ª—å:** –ü–æ–∏—Å–∫ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏ –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ –ø—Ä–æ–µ–∫—Ç **Experts Panel (Video Hub)**.
**–§–æ—Ä–º–∞—Ç:** –í—ã–∂–∏–º–∫–∞ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫ ("—á—Ç–æ –º–æ–∂–Ω–æ —É–∫—Ä–∞—Å—Ç—å").

---

## üèóÔ∏è 1. –ù–∞—Ä–µ–∑–∫–∞ –≤–∏–¥–µ–æ (Chunking)

### 1.1 –ü–∞—Ç—Ç–µ—Ä–Ω: Semantic Chunking (–ù–∞—Ä–µ–∑–∫–∞ –ø–æ –ª–æ–≥–∏–∫–µ —á–µ—Ä–µ–∑ AI Studio)
–í–º–µ—Å—Ç–æ –∂–µ—Å—Ç–∫–æ–π –Ω–∞—Ä–µ–∑–∫–∏ –¥–ª–∏–Ω–Ω–æ–≥–æ –≤–∏–¥–µ–æ –Ω–∞ —Ä–∞–≤–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç) –∏–ª–∏ –≤–æ–∑–Ω–∏ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ —É—Ç–∏–ª–∏—Ç–∞–º–∏ –≤—Ä–æ–¥–µ `ffmpeg silencedetect`, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞—Ç–∏–≤–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª–∏–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ –º–æ–¥–µ–ª—å—é.
*   **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:** 
    1. –ò—Å—Ö–æ–¥–Ω–æ–µ –¥–ª–∏–Ω–Ω–æ–µ –≤–∏–¥–µ–æ (–¥–æ 1 —á–∞—Å–∞) –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ä—É–∫–∞–º–∏ –∏–ª–∏ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –∫–≤–æ—Ç (Google AI Studio).
    2. –í–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞, –º–æ–¥–µ–ª–∏ —Å–∫–∞—Ä–º–ª–∏–≤–∞–µ—Ç—Å—è –∂–µ—Å—Ç–∫–∏–π XML-–ø—Ä–æ–º–ø—Ç, –≥–¥–µ –µ—ë –ø—Ä–æ—Å—è—Ç –≤—ã—Å—Ç—É–ø–∏—Ç—å "–†–µ–∂–∏—Å—Å–µ—Ä–æ–º –º–æ–Ω—Ç–∞–∂–∞". –ò–∏ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç –≤–∏–¥–µ–æ —Ü–µ–ª–∏–∫–æ–º –∏ –∏—â–µ—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–º—ã—Å–ª–æ–≤—ã–µ –ø–∞—É–∑—ã (–≤–¥–æ—Ö, –∫–æ–Ω–µ—Ü –º—ã—Å–ª–∏, —Å–º–µ–Ω–∞ —Å–ª–∞–π–¥–∞).
    3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –∂–µ—Å—Ç–∫–æ–µ —É—Å–ª–æ–≤–∏–µ: "–ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ä–µ–∂—å –º—ã—Å–ª—å –ø–æ—Å–µ—Ä–µ–¥–∏–Ω–µ, –∏—â–∏ –ø–∞—É–∑—ã —Å —à–∞–≥–æ–º –æ—Ç 10 –¥–æ 15 –º–∏–Ω—É—Ç". 
    4. Gemini –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω—ã–π JSON-–º–∞—Å—Å–∏–≤ –∏–∑ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö —Ç–∞–π–º–∫–æ–¥–æ–≤ (`["12:45", "26:10", ...]`), –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Ñ–∞–π–ª —Ä–µ–∂–µ—Ç—Å—è –Ω–∞ –∫—É—Å–∫–∏ –∏ –∑–∞–ª–∏–≤–∞–µ—Ç—Å—è –≤ –ë–î.
*   **–ë–∏–∑–Ω–µ—Å-—Ü–µ–Ω–Ω–æ—Å—Ç—å –¥–ª—è Experts Panel:** –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Å–µ–≥–º–µ–Ω—Ç—ã (—Å –Ω–∞—à–∏–º–∏ `topic_id`) –Ω–µ –ø–æ—Ä–≤—É—Ç –º—ã—Å–ª—å –∏–ª–∏ —Å–ª–æ–≤–æ —ç–∫—Å–ø–µ—Ä—Ç–∞ –ø–æ–ø–æ–ª–∞–º. –≠—Ç–æ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É "—Ä–≤–∞–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞" –Ω–∞ –∫—Ä–∞—è—Ö Summary Bridging. –í—Å—è –º–∞–≥–∏—è "–ø–æ–Ω–∏–º–∞–Ω–∏—è —Ç–∏—à–∏–Ω—ã –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞" –ø–µ—Ä–µ–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –º–æ—â–Ω—ã–π 2M-–∫–æ–Ω—Ç–µ–∫—Å—Ç Gemini –±–µ–∑ –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Å–ª–æ–∂–Ω–æ–≥–æ –±—ç–∫–µ–Ω–¥–∞.

---

## üß† 2. –ò–Ω–∂–µ–Ω–µ—Ä–∏—è –ü—Ä–æ–º–ø—Ç–æ–≤ (Prompt Engineering)

### 2.1 –°—Ç—Ä–æ–≥–∏–µ XML-—à–∞–±–ª–æ–Ω—ã
–°–∏—Å—Ç–µ–º–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –º–æ–¥–µ–ª—è–º –Ω–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown –∏–ª–∏ –ø–ª–æ—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞, –∞ –≤ –≤–∏–¥–µ –∂–µ—Å—Ç–∫–æ–π XML-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `<task>`, `<context>`, `<requirements>`, `<output>`).
*   **–ó–∞—á–µ–º –Ω—É–∂–Ω–æ:** –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ –æ—Ç Anthropic –∏ –Ω–æ–≤—ã–µ Gemini) –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ª—É—á—à–µ –ø–æ–Ω–∏–º–∞—é—Ç –≥—Ä–∞–Ω–∏—Ü—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã, –µ—Å–ª–∏ –æ–Ω–∏ –æ–±–µ—Ä–Ω—É—Ç—ã –≤ XML.
*   **–ß—Ç–æ –¥–∞–µ—Ç –Ω–∞–º:** –ü–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π "–¶–∏—Ñ—Ä–æ–≤—ã—Ö –î–≤–æ–π–Ω–∏–∫–æ–≤" (–≤ `VideoHubService` –∏ `RedditSynthesisService`) –≤ XML (–≤–∏–¥–∞ `<persona>`, `<rules>`, `<segments>`) —Ä–µ–∑–∫–æ –ø–æ–≤—ã—Å–∏—Ç –ø—Ä–æ—Ü–µ–Ω—Ç —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–æ–≥–∏–º –ø—Ä–∞–≤–∏–ª–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞—â–∏—Ç–∞ –æ—Ç –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π, "DO NOT SUMMARIZE").

### 2.2 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ LLM —á–µ—Ä–µ–∑ –±–∏–∑–Ω–µ—Å-—Ç–µ—Ä–º–∏–Ω—ã
–í–Ω—É—Ç—Ä–∏ XML-–ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–∞–¥—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–∏–ª—å–Ω—ã–µ –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã:
*   `<cadence>–û—Ä–∏–µ–Ω—Ç–∏—Ä: –≤ —Å—Ä–µ–¥–Ω–µ–º –æ–¥–∏–Ω –∫–ª—é—á–µ–≤–æ–π –∫–∞–¥—Ä –∫–∞–∂–¥—ã–µ 10-20 —Å–µ–∫—É–Ω–¥...</cadence>`
*   `<recall_bias>–ü—Ä–∏ —Å–æ–º–Ω–µ–Ω–∏–∏ –≤–∫–ª—é—á–∞–π –∫–∞–¥—Ä –≤ –≤—ã–±–æ—Ä–∫—É, —á—Ç–æ–±—ã –Ω–µ —Ç–µ—Ä—è—Ç—å –≤–∞–∂–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç.</recall_bias>`
*   **–¶–µ–Ω–Ω–æ—Å—Ç—å:** –¢–∞–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –±–æ–ª–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º –º–æ–¥–µ–ª–∏ –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–æ–≤.

### 2.3 Meta-Prompting (–ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–π)
–í–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç (`PromptGenerationService`) –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—Ä–æ—Å—Ç–æ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, *"–û—Ü–µ–Ω–∏ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏"*) –∏ **–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–¥–µ–∞–ª—å–Ω—ã–π, —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã–π XML-—à–∞–±–ª–æ–Ω** –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –º–æ–¥–µ–ª—å (Gemini/OpenRouter).
*   **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —É –Ω–∞—Å:** –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ –Ω–æ–≤—ã—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤. –û–ø–µ—Ä–∞—Ç–æ—Ä –ø–∏—à–µ—Ç 2 –∞–±–∑–∞—Ü–∞ —Ç–µ–∫—Å—Ç–∞ (–∫—Ç–æ —Ç–∞–∫–æ–π —ç–∫—Å–ø–µ—Ä—Ç, –≤ —á–µ–º –æ–Ω —Å–∏–ª–µ–Ω), –∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π AI-–≤—ã–∑–æ–≤ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª–æ–∂–Ω—ã–π, –∏–¥–µ–∞–ª—å–Ω–æ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π XML-–ø—Ä–æ—Ñ–∏–ª—å (System Prompt) –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

---

## üñºÔ∏è 3. –ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å –∏ –í–∏–∑—É–∞–ª

### 3.1 Smart Keyframes (–î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è —ç–∫—Å—Ç—Ä–∞–∫—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)
–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–π –∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–Ω–∏.
*   **–®–∞–≥ 1 (AI Logic):** LLM –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫—É—Å–æ–∫ –≤–∏–¥–µ–æ –≤ AI Studio –∏ –≤—ã–ø–ª–µ–≤—ã–≤–∞–µ—Ç —Å—Ç—Ä–æ–≥–∏–π JSON-–º–∞—Å—Å–∏–≤ –∏–∑ –≤–∞–∂–Ω—ã—Ö —Ç–∞–π–º–∫–æ–¥–æ–≤ –∏ –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –æ–ø–∏—Å–∞–Ω–∏–π —Ç–æ–≥–æ, —á—Ç–æ –Ω–∞—Ä–∏—Å–æ–≤–∞–Ω–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ.
*   **–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –≤ Video Hub:** –û–≥—Ä–æ–º–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è UX. –í—ã–¥–∞—á–∞ –≤ React-—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (–Ω–∞—à —Ä–æ—Å–∫–æ—à–Ω—ã–π Sidebar) –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –º—É–ª—å—Ç–∏–º–µ–¥–∏–π–Ω–æ–π. –í–º–µ—Å—Ç–æ —Å—É—Ö–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `PostCard.tsx` —Ä–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∫ —Ç–æ–º—É, –Ω–∞ –∫–∞–∫–æ–π –º–∏–Ω—É—Ç–µ –≤–∏–¥–µ–æ —ç–∫—Å–ø–µ—Ä—Ç —Ä–∏—Å–æ–≤–∞–ª –∫–∞–∫—É—é —Å—Ö–µ–º—É.

---

## ‚öôÔ∏è 4. –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∏ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### 4.1 –ü–∞—Ç—Ç–µ—Ä–Ω Exponential Backoff + Jitter
–°–µ—Ç–µ–≤—ã–µ –≤—ã–∑–æ–≤—ã –∫ LLM-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º –æ–±–µ—Ä–Ω—É—Ç—ã –≤ —É–º–Ω—ã–π `retry`.
*   –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏ HTTP 429 (Too Many Requests), —Å–∫—Ä–∏–ø—Ç –∂–¥–µ—Ç 2 —Å–µ–∫—É–Ω–¥—ã (–ø–ª—é—Å —Å–ª—É—á–∞–π–Ω–∞—è –¥–µ–ª—å—Ç–∞ ‚Äî Jitter), –∑–∞—Ç–µ–º 4, –∑–∞—Ç–µ–º 8 —Å–µ–∫—É–Ω–¥, –ø—Ä–µ–∂–¥–µ —á–µ–º —Å–¥–∞—Ç—å—Å—è (–¥–æ 5 –ø–æ–ø—ã—Ç–æ–∫).
*   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å –¥–ª—è –Ω–∞—Å:** –ù–∞—à –ø–∞–π–ø–ª–∞–π–Ω –≤ `simplified_query_endpoint.py` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ –≤—ã–∑–æ–≤—ã (Map Phase). –ü—Ä–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏–ª–∏ –∑–∞–ø—É—Å–∫–µ —Ç—è–∂–µ–ª–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (Summary Bridging), –º—ã –Ω–µ–º–∏–Ω—É–µ–º–æ —É–ø—Ä–µ–º—Å—è –≤ –ª–∏–º–∏—Ç—ã API Gemini Studio. –≠—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω –Ω—É–∂–Ω–æ –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –∏ –ø—Ä–∏–º–µ–Ω—è—Ç—å –∫ –Ω–∞—à–µ–º—É `google_ai_studio_client`.

### 4.2 –ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π
–í–º–µ—Å—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–æ–¥–µ–ª–µ–π —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Å—Ç–∞—Ç–∏—á–Ω—ã–µ ENV-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–ª–∞—Å—Å—ã-–∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã (Gemini/OpenRouter) –º–æ–≥—É—Ç –æ–ø—Ä–∞—à–∏–≤–∞—Ç—å API –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (`/models`) –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–∏ –º–æ–¥–µ–ª—å `video`/`multimodal` –≤ –ø–æ–ª–µ `input_modalities`.
*   **–ü–æ–ª—å–∑–∞:** –ó–∞–¥–µ–ª –Ω–∞ –±—É–¥—É—â–µ–µ. –ï—Å–ª–∏ –º—ã –±—É–¥–µ–º —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∞–¥–º–∏–Ω–∫—É –¥–ª—è –≤—ã–±–æ—Ä–∞ LLM –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ —Ñ–∞–∑—ã –ø–∞–π–ø–ª–∞–π–Ω–∞ (Map, Reduce, Synthesize), —Ç–∞–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞—â–∏—Ç–∏—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –æ—Ç –∑–∞–ø—É—Å–∫–∞ —Ç—è–∂–µ–ª–æ–π "–≤–∏–∑—É–∞–ª—å–Ω–æ–π" –∑–∞–¥–∞—á–∏ –Ω–∞ –ª–µ–≥–∫–æ–≤–µ—Å–Ω–æ–π —Ç–µ–∫—Å—Ç–æ–≤–æ–π –º–æ–¥–µ–ª–∏ (–≤—Ä–æ–¥–µ `Mistral` –∏–ª–∏ `Llama-3`).

### 4.3 –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –≤—ã–±–æ—Ä: Files API vs Base64 Stream
*   **Base64 (–∫–∞–∫ –≤ OpenRouter):** –ö–æ–¥–∏—Ä—É–µ—Ç –≤–∏–¥–µ–æ –ø—Ä—è–º–æ –≤ —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞. –õ–∏–º–∏—Ç (–æ—Ç–∫—Ä—ã—Ç—ã—Ö API) ‚Äî 20MB. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –ø–∞—Ä—ã —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤, –Ω–æ –Ω–µ –¥–ª—è –≤–∏–¥–µ–æ.
*   **Files API (–∫–∞–∫ –≤ Gemini):** `client.upload_file() -> PROCESSING -> ACTIVE -> generate_content()`. 
*   **–í—ã–≤–æ–¥:** –ù–∞—à –≤—ã–±–æ—Ä —Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –≤ AI Studio (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ –Ω–∞ –∏—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö) –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–ª—è —Ç—è–∂–µ–ª–æ–≥–æ B2B-–ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ (–∫–∞–∫ —É Experts Panel), —Ç–∞–∫ –∫–∞–∫ –ø–æ–ø—ã—Ç–∫–∏ –ª–∏—Ç—å –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫ –ø—Ä—è–º–æ –≤ API-–≤—ã–∑–æ–≤—ã –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ —Ö—Ä—É–ø–∫–∏ –∏ –¥–æ—Ä–æ–≥–∏.

---
**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è Experts Panel:**
1. –ù–∞–ø–∏—Å–∞—Ç—å –æ–±–µ—Ä—Ç–∫—É Exponential Backoff –¥–ª—è —Ç–µ–∫—É—â–∏—Ö –≤—ã–∑–æ–≤–æ–≤ –∫ Gemini.
2. –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Ç–µ–∫—É—â–∏–µ Markdown-–ø—Ä–æ–º–ø—Ç—ã –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö –Ω–∞ XML-—Ä–∞–∑–º–µ—Ç–∫—É.
